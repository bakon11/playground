(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1134:function(e,t,a){},1175:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a.n(n),i=a(81),s=a.n(i),o=(a(657),a(281)),c=a(99),u=a.n(c),l=a(141),p=a(155),m=a(122),d=a(123),h=a(126),f=a(124),g=a(127),b=a(95),v=a(111),O=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.props.markers&&0!==this.props.markers.length?r.a.createElement("div",{className:e.wrapper},r.a.createElement("ul",{className:e.list},this.props.markers&&this.props.markers.map(function(e){return r.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)}))):null}}]),t}(r.a.Component),y=Object(v.withStyles)(function(e){return{list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}})(O),j=a(69),k=a(133),S=a.n(k),E=a(385),C=a.n(E),w=a(709);w=w.default;var x=a(713).initVimMode,M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).monaco=void 0,a.metaSchema=void 0,a.editorInstance=void 0,a.vimMode=void 0,a.statusNode=void 0,a.monaco=r.a.createRef(),a.metaSchema=null,a.editorInstance=null,a.addCommands=a.addCommands.bind(Object(b.a)(Object(b.a)(a))),a.vimMode=null,a.statusNode=null,a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,a,n,r,i,s,o,c=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.editor.getModels().length>0?t=j.editor.getModels()[0]:(a=j.Uri.parse("inmemory:/".concat(Math.random(),"/model/userSpec.json")),this.metaSchema=C.a,n=S.a.isEmpty(this.props.defaultValue)?null:JSON.stringify(this.props.defaultValue,void 0,"  "),r=JSON.stringify({openrpc:"1.0.0-rc1",info:{title:"",version:""},methods:[]},void 0,"\t"),i=window.localStorage.getItem("schema"),s=n||i||r,t=j.editor.createModel(s,"json",a),j.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[{fileMatch:["*"],schema:C.a,uri:a.toString()}],validate:!0}),t.updateOptions({tabSize:2})),o={language:"json",options:{autoIndent:!0,formatOnPaste:!0,formatOnType:!0},theme:this.props.uiSchema.appBar["ui:darkMode"]?"vs-dark":"vs"},this.monaco&&this.monaco.current&&(this.editorInstance=j.editor.create(this.monaco.current,Object(l.a)({},o)),this.editorInstance.setModel(t),this.editorInstance.setSelection(new j.Selection(4,13,4,13)),this.editorInstance.focus(),window.onresize=function(){return c.editorInstance&&c.editorInstance.layout()},setTimeout(function(){return c.editorInstance&&c.editorInstance.layout()},1e3),this.editorInstance.onDidChangeModelContent(function(){var e=c.editorInstance&&c.editorInstance.getValue();e&&(window.localStorage.setItem("schema",e),c.props.onChange(e))}),this.props.onCreate(this.editorInstance)),this.addCommands(this.editorInstance);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addCommands",value:function(e){var t=this;e&&(e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[j.KeyMod.chord(j.KeyMod.CtrlCmd|j.KeyCode.KEY_K,j.KeyMod.CtrlCmd|j.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){var a=window.prompt("Paste schema to replace current meta schema","{}");if(a){var n=JSON.parse(a);t.metaSchema=n}if(null!=a){var r=j.Uri.parse("inmemory:/".concat(Math.random(),"/model/userSpec.json"));j.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[{fileMatch:["*"],schema:t.metaSchema,uri:r.toString()}],validate:!0})}}}),e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[j.KeyMod.chord(j.KeyMod.CtrlCmd|j.KeyCode.KEY_K,j.KeyMod.CtrlCmd|j.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){t.onVimKeybind()}}))}},{key:"onChange",value:function(){this.props.onChangeMarkers&&this.props.onChangeMarkers(j.editor.getModelMarkers({}))}},{key:"componentWillUnmount",value:function(){this.editorInstance&&this.editorInstance.dispose()}},{key:"onVimKeybind",value:function(){if(this.vimMode)return this.vimMode.dispose(),this.statusNode&&(this.statusNode.innerHTML=""),void(this.vimMode=null);this.statusNode=document.getElementById("vim-status-bar"),this.vimMode=x(this.editorInstance,this.statusNode)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"100%"},ref:this.monaco}),r.a.createElement("div",{id:"vim-status-bar",style:{position:"fixed",bottom:"0",background:"white",opacity:.5}}))}}]),t}(r.a.Component),I=a(550),N=a.n(I),B=a(386),U=a.n(B),V=(a(1134),function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Unable to download openrpc.json file located at the url: ".concat(t));case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()),D=0,P=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{body:JSON.stringify({id:D++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Unable to call rpc.discover at: ".concat(t));case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),K=a(68),J=a(552),T=a.n(J),z=a(551),H=a.n(z),R=a(554),A=a.n(R),L=a(553),W=a.n(L),Y=a(564);var _,F=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema;e.classes,e.onSplitViewChange,e.onDarkModeChange;return r.a.createElement(Y.a,{onInputValueChange:this.props.onChangeUrl,id:"downshift"},function(e){var a=e.getInputProps,n=e.getItemProps,i=(e.getLabelProps,e.getMenuProps),s=e.isOpen,o=e.inputValue,c=e.highlightedIndex,u=(e.selectedItem,e.openMenu),l=e.clearSelection;return r.a.createElement("div",null,r.a.createElement(K.f,Object.assign({},a({onChange:function(e){""===e.target.value&&l()}}),{onFocus:function(e){return u()},placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"}})),r.a.createElement("div",Object.assign({},i(),{style:{position:"absolute",zIndex:1}}),s?r.a.createElement(K.h,{style:{maxWidth:"640px"}},function(e){var t=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"}];return e?t.filter(function(t){return t.name.includes(e)||t.url.includes(e)}):t}(o).map(function(e,t){var a=c===t;return r.a.createElement(K.g,Object.assign({},n({item:e.url}),{key:e.url,selected:a,component:"div",style:{fontWeight:a?500:400}}),r.a.createElement(K.c,{container:!0,spacing:0},r.a.createElement(K.c,{item:!0,xs:12},r.a.createElement(K.l,{variant:"subheading"},e.name)),r.a.createElement(K.c,{item:!0,xs:12},r.a.createElement(K.l,{variant:"caption"},e.url))))})):null))})}}]),t}(n.Component),G=Object(v.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},appBar:{}}})(F),q=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema,a=e.classes,n=e.onSplitViewChange,i=e.onDarkModeChange;return r.a.createElement(K.a,{position:"static",color:"default",elevation:0,className:a.appBar},r.a.createElement(K.k,null,r.a.createElement(K.c,{alignItems:"center",container:!0,spacing:24},r.a.createElement(K.c,{item:!0,xs:6,sm:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&r.a.createElement(K.c,null,r.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),r.a.createElement(K.c,null,r.a.createElement(K.l,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),r.a.createElement(K.d,{only:"xs"},r.a.createElement(K.c,{item:!0,sm:7},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&r.a.createElement(K.h,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},r.a.createElement(G,{onChangeUrl:this.props.onChangeUrl,uiSchema:t})))),r.a.createElement(K.c,{item:!0,xs:6,sm:2,container:!0,justify:"flex-end"},r.a.createElement(K.e,null,t&&t.appBar["ui:splitView"]?r.a.createElement(H.a,{onClick:function(){return n(!1)}}):r.a.createElement(T.a,{onClick:function(){return n(!0)}})),r.a.createElement(K.e,null,t&&t.appBar["ui:darkMode"]?r.a.createElement(W.a,{onClick:function(){return i(!1)}}):r.a.createElement(A.a,{onClick:function(){return i(!0)}}))))))}}]),t}(n.Component),$=Object(v.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},appBar:{}}})(q),Q=a(555),X=a(556),Z=a(23),ee=a.n(Z),te=a(280),ae=a.n(te),ne=a(557),re=a.n(ne),ie=a(562),se=a.n(ie),oe=a(559),ce=a.n(oe),ue=a(387),le=a.n(ue),pe=a(558),me=a.n(pe),de=a(560),he=a.n(de),fe=a(561),ge=a.n(fe),be={success:re.a,warning:me.a,error:ce.a,info:le.a,debug:le.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(_||(_={}));var ve=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,i=e.onClose,s=e.variant,o=Object(X.a)(e,["classes","className","message","onClose","variant"]),c=be[s];return r.a.createElement(K.j,Object.assign({className:ee()(t[s],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(c,{className:ee()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(ae.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:i},r.a.createElement(se.a,{className:t.icon}))]},o))}}]),t}(r.a.Component),Oe=Object(v.withStyles)(function(e){return{success:{color:he.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:ge.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing.unit/2},margin:{margin:e.spacing.unit}}})(ve),ye=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.notification,n=e.close;return Object(k.isEmpty)(a)?null:r.a.createElement(K.i,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(Oe,{onClose:n,variant:a.type,message:r.a.createElement("span",null,a.message),className:t.margin}))}}]),t}(n.Component),je=Object(v.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},close:{padding:e.spacing.unit/2},margin:{margin:e.spacing.unit}}})(ye),ke=Object(v.createMuiTheme)({overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}}}),Se=Object(v.createMuiTheme)({palette:{type:"dark",background:{default:"#212121",paper:"black"}},overrides:{MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:"#fff"}}}}),Ee=a(563),Ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).debouncedHandleUrlChange=void 0,a.editorInstance=void 0,a.setNotification=function(e){a.setState({notification:e})},a.setErrorNotification=function(e){a.setNotification({message:e,type:_.error})},a.dHandleUrlChange=function(){var e=Object(p.a)(u.a.mark(function e(t){var n,r,i,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(k.isEmpty)(t)){e.next=2;break}return e.abrupt("return");case 2:if(!t.match(/\.json$/)){e.next=17;break}return e.prev=3,e.next=6,V(t);case 6:n=e.sent,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(3),r="Error fetching schema for: ".concat(t),console.error(r,e.t0),a.setErrorNotification(r),e.abrupt("return");case 15:e.next=30;break;case 17:return e.prev=17,e.next=20,P(t);case 20:i=e.sent,n=i.result,e.next=30;break;case 24:return e.prev=24,e.t1=e.catch(17),s="Error fetching rpc.discover for: ".concat(t),console.error(s,e.t1),a.setErrorNotification(s),e.abrupt("return");case 30:j.editor.getModels()[0].setValue(JSON.stringify(n,void 0," ")),a.refreshEditorData(),a.setState(Object(l.a)({},a.state,{defaultValue:n}));case 33:case"end":return e.stop()}},e,this,[[3,9],[17,24]])}));return function(t){return e.apply(this,arguments)}}(),a.handleUrlChange=function(e){return a.debouncedHandleUrlChange(e)},a.handleUISchemaAppBarChange=function(e){return function(t){var n=a.state.reactJsonOptions;"ui:darkMode"===e&&(j.editor.setTheme(t?"vs-dark":"vs"),n=Object(l.a)({},a.state.reactJsonOptions,{theme:t?"summerfruit":"summerfruit:inverted"})),a.setState(Object(l.a)({},a.state,{reactJsonOptions:n,uiSchema:Object(l.a)({},a.state.uiSchema,{appBar:Object(l.a)({},a.state.uiSchema.appBar,Object(o.a)({},e,t))})}))}},a.getPlayground=function(){return a.state.uiSchema.appBar["ui:splitView"]?a.getSplitPane():r.a.createElement("div",{className:"docs",key:2},r.a.createElement(U.a,{schema:a.state.parsedSchema,uiSchema:a.state.uiSchema,reactJsonOptions:a.state.reactJsonOptions}))},a.state={defaultValue:"",markers:[],notification:{},parsedSchema:{},reactJsonOptions:{theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1},uiSchema:{appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"OpenRPC Playground"},methods:{"ui:defaultExpanded":!1},params:{"ui:defaultExpanded":!1}}},a.refreshEditorData=a.refreshEditorData.bind(Object(b.a)(Object(b.a)(a))),a.setMarkers=Object(k.debounce)(a.setMarkers.bind(Object(b.a)(Object(b.a)(a))),300),a.debouncedHandleUrlChange=Object(k.debounce)(a.dHandleUrlChange.bind(Object(b.a)(Object(b.a)(a))),300),a.handleSnackbarClose=a.handleSnackbarClose.bind(Object(b.a)(Object(b.a)(a))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleSnackbarClose",value:function(){this.setState({notification:{}})}},{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=Q.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}})).schemaUrl&&this.dHandleUrlChange(t.schemaUrl),t.schema&&j.editor.getModels()[0].setValue(JSON.stringify(t.schema,void 0," ")),t.uiSchema&&this.setState({uiSchema:{appBar:Object(l.a)({},this.state.uiSchema.appBar,t.uiSchema.appBar||{}),methods:Object(l.a)({},this.state.uiSchema.methods,t.uiSchema.methods||{}),params:Object(l.a)({},this.state.uiSchema.params,t.uiSchema.params||{})}}),setTimeout(this.refreshEditorData,300),setTimeout(this.refreshEditorData,2e3);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refeshMarkers",value:function(){var e=this;setTimeout(function(){var t=j.editor.getModelMarkers({});e.setState({markers:t})},1e3)}},{key:"refreshEditorData",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.dereference(JSON.parse(j.editor.getModels()[0].getValue()));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("error parsing schema",e.t0);case 9:if(t){e.next=12;break}return this.refeshMarkers(),e.abrupt("return");case 12:this.setState(Object(l.a)({},this.state,{parsedSchema:t||this.state.parsedSchema})),this.refeshMarkers();case 14:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"setMarkers",value:function(){this.refreshEditorData()}},{key:"render",value:function(){return r.a.createElement(v.MuiThemeProvider,{theme:this.state.uiSchema.appBar["ui:darkMode"]?Se:ke},r.a.createElement(K.b,null),r.a.createElement($,{uiSchema:this.state.uiSchema,onSplitViewChange:this.handleUISchemaAppBarChange("ui:splitView"),onDarkModeChange:this.handleUISchemaAppBarChange("ui:darkMode"),onChangeUrl:this.handleUrlChange}),this.getPlayground(),r.a.createElement(je,{close:this.handleSnackbarClose,notification:this.state.notification}))}},{key:"getSplitPane",value:function(){var e=this;return r.a.createElement(Ee.a,{split:"vertical",minSize:100,maxSize:-100,defaultSize:window.innerWidth/2,onChange:function(t){return e.editorInstance&&e.editorInstance.layout()}},r.a.createElement("div",{key:1,style:{display:"flex",flexDirection:"column",height:"100%"}},r.a.createElement(y,{markers:this.state.markers}),r.a.createElement(M,{uiSchema:this.state.uiSchema,onCreate:function(t){return e.editorInstance=t},defaultValue:this.state.defaultValue,onChange:this.setMarkers.bind(this)})),r.a.createElement("div",{className:"docs",key:2},r.a.createElement(U.a,{schema:this.state.parsedSchema,uiSchema:this.state.uiSchema,reactJsonOptions:this.state.reactJsonOptions})))}}]),t}(r.a.Component);s.a.render(r.a.createElement(Ce,null),document.getElementById("root"))},652:function(e,t,a){e.exports=a(1175)},657:function(e,t,a){},817:function(e,t){},825:function(e,t){},827:function(e,t){}},[[652,2,3]]]);
//# sourceMappingURL=main.416af6a9.chunk.js.map